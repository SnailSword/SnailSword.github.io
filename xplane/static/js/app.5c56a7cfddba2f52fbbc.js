webpackJsonp([0],[,function(t,e,n){"use strict";var a=function(){this.currentPlaneMap=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],this.planeShape=[[0,0,2,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,1,1,1,0]],this.lastStep=[],this.currentPlaneStack=[],this.pushPlane=function(t){for(var n=[],a=0;a<10;a++){n[a]=[];for(var i=0;i<10;i++)n[a][i]=this.currentPlaneMap[a][i]}return e(t)?(this.currentPlaneStack.push(t),this.lastStep.push(n),!0):(this.currentPlaneMap=n,!1)},this.popPlane=function(){return 0!==this.currentPlaneStack.length&&(this.currentPlaneStack.pop(),this.currentPlaneMap=this.lastStep.pop(),!0)};var t=this;this.planeWidth=this.planeShape[0].length,this.planeHeight=this.planeShape.length,this.planeHead=[0,2];var e=function(e){var n=t.currentPlaneMap,a=t.planeShape,i=e[0],o=e[1];switch(e[2]){case 0:for(var s=i,r=0;s<i+4;s++){if(s<0||s>9)return console.log("plane placed error"),!1;for(var l=0,c=o-2;c<o+3;c++){if(c<0||c>9||a[r][l]*n[s][c])return console.log("plane placed error"),!1;n[s][c]+=a[r][l],l++}r++}break;case 1:for(var u=i-2,p=0;u<i+3;u++){if(u<0||u>9)return console.log("plane placed error"),!1;for(var h=0,f=o;f>o-4;f--){if(f<0||f>9||n[u][f]*a[h][p])return console.log("plane placed error"),!1;n[u][f]+=a[h][p],h++}p++}break;case 2:for(var d=i,v=0;d>i-4;d--){if(d<0||d>9)return console.log("plane placed error"),!1;for(var b=0,w=o-2;w<o+3;w++){if(w<0||w>9||n[d][w]*a[v][b])return console.log("plane placed error"),!1;n[d][w]+=a[v][b],b++}v++}break;case 3:for(var m=i-2,C=0;m<i+3;m++){if(m<0||m>9)return console.log("plane placed error"),!1;for(var g=0,_=o;_<o+4;_++){if(_<0||_>9||a[g][C]*n[m][_])return console.log("plane placed error"),!1;n[m][_]+=a[g][C],g++}C++}}return!0};this.printCurrentMap=function(){}};a.plane2key=function(t){var e=t.length;if(0===e)return!1;for(var n="",a=0;a<e;a++)for(var i=0;i<3;i++)n+=t[a][i];return btoa(n).split("").reverse().join("")},a.key2plane=function(t){if(!t)return!1;var e=t.split("").reverse().join("");try{e=atob(e).split("").map(function(t){return parseInt(t)})}catch(t){return!1}for(var n=[];e.length;)n.push(e.splice(0,3));return!!n.length&&n},e.a=a},function(t,e,n){var a=n(0)(n(7),n(14),null,null);t.exports=a.exports},function(t,e,n){n(11);var a=n(0)(n(8),n(13),null,null);t.exports=a.exports},function(t,e,n){n(12);var a=n(0)(n(9),n(15),null,null);t.exports=a.exports},function(t,e){t.exports=Vonic},function(t,e){t.exports=Vue},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{back:function(){$router.back("/")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=new a.a,o=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],s=function(t,e){var n=2*e,a=10*e;if(t<n)return 100;if(t>a)return e*e;if(t>=n&&t<=a){var i=e*e+(100-e*e)*(a-t)/(a-n);return parseInt(i)}};e.default={data:function(){var t=function(t){$dialog.confirm({theme:"scale",title:t,okTheme:"positive",cancelText:"随便来一局",okText:"布个阵给朋友"}).then(function(t){console.log("confirm result: ",t),t&&$router.forward("/place")})},e=this.$route.query.q,n=a.a.key2plane(e);if(e&&n)for(var s=0;s<n.length;s++)i.pushPlane(n[s])||t("你可能是收到了一个假的飞机阵链接，请选择攻击一个随机飞机阵或给朋友布一个飞机阵。");else t("你可能是收到了一个假的飞机阵链接，请选择攻击一个随机飞机阵或给朋友布一个飞机阵。");return{option:{grid:[10,10],planeNum:n.length,name:"Peter"},cellSize:"2rem",planeMap:i.currentPlaneMap,finished:0,step:0,isShowMap:o,author:"毛一块",player:"毛衣毛",succeed:!1}},methods:{cellTouched:function(t,e){1!==this.isShowMap[t-1][e-1]&&(this.step++,this.isShowMap[t-1][e-1]=1,this.$set(this.isShowMap,t-1,this.isShowMap[t-1]),2==this.planeMap[t-1][e-1]&&this.finished++)},win:function(){$dialog.confirm({theme:"scale",title:s(this.step,this.option.planeNum)+"分！"+this.player+"用"+this.step+"发子弹把"+this.author+"的"+this.option.planeNum+"级飞机阵歼灭",okTheme:"positive",cancelText:"复盘",okText:"重玩"}).then(function(t){console.log("confirm result: ",t),t&&window.location.reload()})},winReload:function(){window.location.reload()}},watch:{finished:function(t){t===this.option.planeNum&&this.win()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=new a.a;e.default={data:function(){return{cellSize:"2rem",planeMap:i.currentPlaneMap,planeStack:i.currentPlaneStack,author:"毛一块",player:"毛衣毛",succeed:!1,currentCell:{},model:!0}},methods:{back:function(){$router.back("/")},placeCellTouched:function(t,e){0===this.planeMap[t][e]?(this.currentCell={x:t,y:e},this.planeMap[t][e]=2,this.$set(this.planeMap,t,this.planeMap[t])):$toast.show("哦豁 这里已经放过飞机了",1e3)},confirmPlane:function(t){if(!(this.currentCell.x+1))return void $toast.show("先选一下飞机头呀",1e3);var e=this.currentCell.x,n=this.currentCell.y;if(this.planeMap[e][n]=0,this.$set(this.planeMap,1,this.planeMap[1]),i.pushPlane([e,n,t]))this.currentCell={},this.$set(this.planeMap,1,i.currentPlaneMap[1]),this.model=!1;else{for(var a=0;a<10;a++)this.$set(this.planeMap,a,i.currentPlaneMap[a]);$toast.show("哦豁 这里不可以放飞机",1e3),this.currentCell={}}},undo:function(){if(i.popPlane())for(var t=0;t<10;t++)this.$set(this.planeMap,t,i.currentPlaneMap[t]);else $toast.show("已经没有可以撤回的飞机啦",1e3)},done:function(){var t=a.a.plane2key(this.planeStack);console.info(window.location);var e=window.location.host+window.location.pathname+"#/guess?q="+t,n='<input id="urlResult" type="text" value="'+e+'"></input>';if(!t)return $toast.show("至少要放一个飞机哦",1e3),!1;$dialog.alert({effect:"scale",title:"大功告成！",content:"你的飞机阵地址为: "+n+"复制链接发给小伙伴猜一猜吧~",okText:"复制好啦~",okTheme:"positive"})}},watch:{currentCell:{handler:function(t,e){e.x&&(this.model&&(i.currentPlaneMap[e.x][e.y]=0),this.model=!0)},deep:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),i=n.n(a),o=n(5),s=n.n(o),r=n(3),l=n.n(r),c=n(2),u=(n.n(c),n(4)),p=n.n(u),h=[{path:"/guess",component:l.a},{path:"/place",component:p.a},{path:"/",component:p.a}];i.a.use(s.a.app,{routes:h})},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("von-header",{staticClass:"xp-header",attrs:{theme:"positive"}},[n("button",{staticClass:"button button-icon ion-ios-arrow-back",slot:"left"}),t._v(" "),n("span",{slot:"title"},[t._v("x-Plane")]),t._v(" "),n("button",{staticClass:"button button-icon ion-navicon",slot:"right"})]),t._v(" "),n("div",{staticClass:"xp-grid"},[n("div",{staticClass:"xp-cellContainer"},t._l(t.option.grid[0],function(e){return n("div",{staticClass:"xp-col",style:{height:t.cellSize}},t._l(t.option.grid[1],function(a){return n("div",{style:{height:t.cellSize,width:t.cellSize,lineHeight:t.cellSize},attrs:{id:"g-"+e+"-"+a},on:{click:function(n){t.cellTouched(e,a)}}},[0===t.planeMap[e-1][a-1]?n("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowMap[e-1][a-1],expression:"isShowMap[i-1][j-1]"}],staticClass:"ion-ios-close-empty"}):1===t.planeMap[e-1][a-1]?n("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowMap[e-1][a-1],expression:"isShowMap[i-1][j-1]"}],staticClass:"ion-android-radio-button-off"}):n("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowMap[e-1][a-1],expression:"isShowMap[i-1][j-1]"}],staticClass:"ion-android-radio-button-on"})])}))}))]),t._v(" "),n("div",{staticClass:"xp-information"},[n("von-input",{attrs:{type:"text",placeholder:"输入名字",label:"攻击方："},model:{value:t.player,callback:function(e){t.player=e},expression:"player"}}),t._v(" "),n("list",{staticClass:"list-ios"},[n("item",[t._v("\n        防守方：   "+t._s(t.author)+"      \n        "),n("i",{staticClass:"ion-plane"}),t._v(": "+t._s(t.option.planeNum)+"\n      ")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"nav",rawName:"v-nav",value:{title:"About",showBackButton:!0,onBackButtonClick:t.back},expression:"{ title: 'About', showBackButton: true, onBackButtonClick: back }"}],staticClass:"page has-navbar"},[t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content text-center"},[n("h2",{staticClass:"padding"},[t._v("Nothing here.")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("von-header",{staticClass:"xp-header",attrs:{theme:"positive"}},[n("button",{staticClass:"button button-icon ion-ios-arrow-back",slot:"left"}),t._v(" "),n("span",{slot:"title"},[t._v("x-Plane")]),t._v(" "),n("button",{staticClass:"button button-icon ion-navicon",slot:"right"})]),t._v(" "),n("div",{staticClass:"xp-grid"},[n("div",{staticClass:"xp-cellContainer"},t._l(10,function(e){return n("div",{staticClass:"xp-col",style:{height:t.cellSize}},t._l(10,function(a){return n("div",{style:{height:t.cellSize,width:t.cellSize,lineHeight:t.cellSize},attrs:{id:"g-"+e+"-"+a},on:{click:function(n){t.placeCellTouched(e-1,a-1)}}},[1===t.planeMap[e-1][a-1]?n("i",{staticClass:"ion-android-radio-button-off"}):2===t.planeMap[e-1][a-1]?n("i",{staticClass:"ion-android-radio-button-on"}):t._e()])}))}))]),t._v(" "),n("div",{staticClass:"lever"},[n("md-button",{staticClass:"arrow-up button button-light button-fab",nativeOn:{click:function(e){t.confirmPlane(0)}}},[n("i",{staticClass:"icon ion-arrow-up-b"})]),t._v(" "),n("md-button",{staticClass:"arrow-left button button-light button-fab",nativeOn:{click:function(e){t.confirmPlane(3)}}},[n("i",{staticClass:"icon ion-arrow-left-b"})]),t._v(" "),n("md-button",{staticClass:"arrow-down button button-light button-fab",nativeOn:{click:function(e){t.confirmPlane(2)}}},[n("i",{staticClass:"icon ion-arrow-down-b"})]),t._v(" "),n("md-button",{staticClass:"arrow-right button button-light button-fab",nativeOn:{click:function(e){t.confirmPlane(1)}}},[n("i",{staticClass:"icon ion-arrow-right-b"})])],1),t._v(" "),n("div",{staticClass:"button-container"},[n("md-button",{staticClass:"button button-Stable undo",nativeOn:{click:function(e){t.undo()}}},[t._v("撤销")]),t._v(" "),n("md-button",{staticClass:"button button-positive done",nativeOn:{click:function(e){t.done()}}},[t._v("完成")])],1)],1)},staticRenderFns:[]}}],[10]);
//# sourceMappingURL=app.5c56a7cfddba2f52fbbc.js.map